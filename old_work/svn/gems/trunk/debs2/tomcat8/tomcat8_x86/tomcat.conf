description "Tomcat Server"

  start on runlevel [2345]
  stop on runlevel [!2345]
  #respawn
  #respawn limit 10 5

  setuid tomcat
  setgid tomcat

  env JAVA_HOME=/usr/lib/jvm/jdk-8-oracle-i586/
#  env JAVA_HOME=/usr/lib/jvm/jdk-8-oracle-x64/

  env CATALINA_HOME=/opt/tomcat

  # Modify these options as needed
  env JAVA_OPTS="-Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom"
  env CATALINA_OPTS="-Xms1024M -Xmx2048M -server -XX:+UseParallelGC -Dorg.apache.el.parser.SKIP_IDENTIFIER_CHECK=true"

  exec $CATALINA_HOME/bin/catalina.sh run

  # cleanup temp directory after stop
  post-stop script
    rm -rf $CATALINA_HOME/temp/*
  end script
