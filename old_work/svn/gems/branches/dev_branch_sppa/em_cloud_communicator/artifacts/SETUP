Steps to add your EM to cloud.
-----------------------------------
Take the latest of everything from SVN (sppa developement branch).

1. Install tcl8.5_8.5.8-2_i386.deb from em_cloud_communicator/artifacts/ folder on your EM.
2. Install postgresql-pltcl-8.4_8.4.3-1_i386.deb from em_cloud_communicator/artifacts/ folder on your EM.
3. Stop the tomcat server on your local EM. Make sure that tomcat doesn't come up again due to tracker cron or manually.
4. Run the latest ems upgradeSQL.sql from sppa development branch.
5. Run 'psql -U postgres ems' from your console. Execute 'select addTriggers();' in your db console to add triggers on your table. 
6. Take database dump. Command: pg_dump -U postgres ems -F c -v -b -f 'sppa_migration.dump'
7. Go to cloud server. Copy this sppa_migration.dump to your cloud server. Right now, rackspace server is configured as cloud server.
8. Create a new database on cloud server corresponding to your local EM instance. DO NOT DROP ANY EXISTING DATABASE ON CLOUD SERVER.
	Once done, restore sppa_migration.dump to this new db. Command: pg_restore -U postgres -d db_name -v < sppa_migration.dump
9. Execute "update cloud_config set val = (select max(id) from wal_logs) where name = 'lastWalSyncId';" on this new db.
10. Login to ecloud app in your browser using admin/admin. For rackspace server, access at https://198.101.232.49/ecloud.
	Create new customer corresponding to you and add new em instance corresponding to your EM instance. 
	Database name for em instance should be same as the database your created above on cloud server.
	MAC ID should be your EM mac id. This value would be reused while configuring your EM.
11. Your ecloud server is ready to accept data from your local EM.
12. Now start the local tomcat server.
13. Login as admin and Go to Administration -> System Management. Click Cloud Server Settings. 
	Provide cloud service ip, cloud server port and your local EM mac. MAC should be exactly same as the one you used above.
14. Put logging.properties file from em_cloud_communicator/artifact at /home/enlighted/
15. Once all this is done, build the em_cloud_communicator jar. Before that, you may change the sleepTime value in Communicator.java file to modify time gaps between two syncs. Currently it is set to 5 minutes.
16. Run the em_cloud_communicator.jar with sudo user. Command sudo java -Djava.util.logging.config.file=/home/enlighted/logging.properties -jar em_cloud_communicator.jar'.

Thats it. Your data should be syncing to cloud server. Easy :) 
	